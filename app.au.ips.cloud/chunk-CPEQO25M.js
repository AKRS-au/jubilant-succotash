import{a as c,b as _,e as x,g as ce,h as Ge}from"./chunk-YGAJRIQG.js";var ct=x((is,ut)=>{ut.exports=function(){var e={},r=e._fns={};e.emit=function(o,l,d,u,a,g,m){var f=i(o);f.length&&s(o,f,[l,d,u,a,g,m])},e.on=function(o,l){r[o]||(r[o]=[]),r[o].push(l)},e.once=function(o,l){function d(){l.apply(this,arguments),e.off(o,d)}this.on(o,d)},e.off=function(o,l){var d=[];if(o&&l){var u=this._fns[o],a=0,g=u?u.length:0;for(a;a<g;a++)u[a]!==l&&d.push(u[a])}d.length?this._fns[o]=d:delete this._fns[o]};function i(n){var o=r[n]?r[n]:[],l=n.indexOf(":"),d=l===-1?[n]:[n.substring(0,l),n.substring(l+1)],u=Object.keys(r),a=0,g=u.length;for(a;a<g;a++){var m=u[a];if(m==="*"&&(o=o.concat(r[m])),d.length===2&&d[0]===m){o=o.concat(r[m]);break}}return o}function s(n,o,l){var d=0,u=o.length;for(d;d<u&&o[d];d++)o[d].event=n,o[d].apply(o[d],l)}return e}});var ve=x((ns,ft)=>{function Ur(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}ft.exports=Ur});var gt=x((os,ht)=>{var Ar=typeof global=="object"&&global&&global.Object===Object&&global;ht.exports=Ar});var Ae=x((as,mt)=>{var jr=gt(),Cr=typeof self=="object"&&self&&self.Object===Object&&self,kr=jr||Cr||Function("return this")();mt.exports=kr});var vt=x((ls,_t)=>{var Mr=Ae(),$r=function(){return Mr.Date.now()};_t.exports=$r});var bt=x((ds,yt)=>{var Nr=/\s/;function Rr(t){for(var e=t.length;e--&&Nr.test(t.charAt(e)););return e}yt.exports=Rr});var St=x((us,wt)=>{var Lr=bt(),zr=/^\s+/;function Ir(t){return t&&t.slice(0,Lr(t)+1).replace(zr,"")}wt.exports=Ir});var je=x((cs,xt)=>{var qr=Ae(),Br=qr.Symbol;xt.exports=Br});var Et=x((ps,Tt)=>{var Ft=je(),Pt=Object.prototype,Wr=Pt.hasOwnProperty,Gr=Pt.toString,te=Ft?Ft.toStringTag:void 0;function Hr(t){var e=Wr.call(t,te),r=t[te];try{t[te]=void 0;var i=!0}catch{}var s=Gr.call(t);return i&&(e?t[te]=r:delete t[te]),s}Tt.exports=Hr});var Ut=x((fs,Ot)=>{var Vr=Object.prototype,Yr=Vr.toString;function Kr(t){return Yr.call(t)}Ot.exports=Kr});var kt=x((hs,Ct)=>{var At=je(),Xr=Et(),Dr=Ut(),Jr="[object Null]",Zr="[object Undefined]",jt=At?At.toStringTag:void 0;function Qr(t){return t==null?t===void 0?Zr:Jr:jt&&jt in Object(t)?Xr(t):Dr(t)}Ct.exports=Qr});var $t=x((gs,Mt)=>{function ei(t){return t!=null&&typeof t=="object"}Mt.exports=ei});var Rt=x((ms,Nt)=>{var ti=kt(),ri=$t(),ii="[object Symbol]";function si(t){return typeof t=="symbol"||ri(t)&&ti(t)==ii}Nt.exports=si});var qt=x((_s,It)=>{var ni=St(),Lt=ve(),oi=Rt(),zt=NaN,ai=/^[-+]0x[0-9a-f]+$/i,li=/^0b[01]+$/i,di=/^0o[0-7]+$/i,ui=parseInt;function ci(t){if(typeof t=="number")return t;if(oi(t))return zt;if(Lt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Lt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ni(t);var r=li.test(t);return r||di.test(t)?ui(t.slice(2),r?2:8):ai.test(t)?zt:+t}It.exports=ci});var Gt=x((vs,Wt)=>{var pi=ve(),Ce=vt(),Bt=qt(),fi="Expected a function",hi=Math.max,gi=Math.min;function mi(t,e,r){var i,s,n,o,l,d,u=0,a=!1,g=!1,m=!0;if(typeof t!="function")throw new TypeError(fi);e=Bt(e)||0,pi(r)&&(a=!!r.leading,g="maxWait"in r,n=g?hi(Bt(r.maxWait)||0,e):n,m="trailing"in r?!!r.trailing:m);function f(y){var O=i,F=s;return i=s=void 0,u=y,o=t.apply(F,O),o}function h(y){return u=y,l=setTimeout(b,e),a?f(y):o}function j(y){var O=y-d,F=y-u,z=e-O;return g?gi(z,n-F):z}function v(y){var O=y-d,F=y-u;return d===void 0||O>=e||O<0||g&&F>=n}function b(){var y=Ce();if(v(y))return T(y);l=setTimeout(b,j(y))}function T(y){return l=void 0,m&&i?f(y):(i=s=void 0,o)}function H(){l!==void 0&&clearTimeout(l),u=0,i=d=s=l=void 0}function L(){return l===void 0?o:T(Ce())}function V(){var y=Ce(),O=v(y);if(i=arguments,s=this,d=y,O){if(l===void 0)return h(d);if(g)return clearTimeout(l),l=setTimeout(b,e),f(d)}return l===void 0&&(l=setTimeout(b,e)),o}return V.cancel=H,V.flush=L,V}Wt.exports=mi});var Vt=x((ys,Ht)=>{var _i=Gt(),vi=ve(),yi="Expected a function";function bi(t,e,r){var i=!0,s=!0;if(typeof t!="function")throw new TypeError(yi);return vi(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),_i(t,e,{leading:i,maxWait:e,trailing:s})}Ht.exports=bi});var tr=x((Ms,er)=>{"use strict";er.exports=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);let r=e<0,i=Math.abs(e);if(r&&(i=-i),i===0)return"0 B";let s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.min(Math.floor(Math.log(i)/Math.log(1024)),s.length-1),o=Number(i/1024**n),l=s[n];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`}});var ir=x(($s,rr)=>{"use strict";var Ti=/(\*|\?)/g;function Re(t,e){this.text=t=t||"",this.hasWild=t.indexOf("*")>=0,this.separator=e,this.parts=t.split(e).map(this.classifyPart.bind(this))}Re.prototype.match=function(t){var e=!0,r=this.parts,i,s=r.length,n;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(n=(t||"").split(this.separator),i=0;e&&i<s;i++)r[i]!=="*"&&(i<n.length?e=r[i]instanceof RegExp?r[i].test(n[i]):r[i]===n[i]:e=!1);e=e&&n}else if(typeof t.splice=="function")for(e=[],i=t.length;i--;)this.match(t[i])&&(e[e.length]=t[i]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};Re.prototype.classifyPart=function(t){return t==="*"?t:t.indexOf("*")>=0||t.indexOf("?")>=0?new RegExp(t.replace(Ti,".$1")):t};rr.exports=function(t,e,r){var i=new Re(t,r||/[\/\.]/);return typeof e<"u"?i.match(e):i}});var nr=x((Ns,sr)=>{var Ei=ir(),Oi=/[\/\+\.]/;sr.exports=function(t,e){function r(i){var s=Ei(i,t,Oi);return s&&s.length>=2}return e?r(e.split(";")[0]):r}});var Z,w,Xe,mr,Y,I,He,De,Je,fe={},Ze=[],_r=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function k(t,e){for(var r in e)t[r]=e[r];return t}function Qe(t){var e=t.parentNode;e&&e.removeChild(t)}function vr(t,e,r){var i,s,n,o={};for(n in e)n=="key"?i=e[n]:n=="ref"?s=e[n]:o[n]=e[n];if(arguments.length>2&&(o.children=arguments.length>3?Z.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)o[n]===void 0&&(o[n]=t.defaultProps[n]);return D(t,o,i,s,null)}function D(t,e,r,i,s){var n={type:t,props:e,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++Xe};return s==null&&w.vnode!=null&&w.vnode(n),n}function Di(){return{current:null}}function me(t){return t.children}function yr(t,e,r,i,s){var n;for(n in r)n==="children"||n==="key"||n in e||he(t,n,null,r[n],i);for(n in e)s&&typeof e[n]!="function"||n==="children"||n==="key"||n==="value"||n==="checked"||r[n]===e[n]||he(t,n,e[n],r[n],i)}function Ve(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||_r.test(e)?r:r+"px"}function he(t,e,r,i,s){var n;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)r&&e in r||Ve(t.style,e,"");if(r)for(e in r)i&&r[e]===i[e]||Ve(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")n=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+n]=r,r?i||t.addEventListener(e,n?Ke:Ye,n):t.removeEventListener(e,n?Ke:Ye,n);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function Ye(t){Y=!0;try{return this.l[t.type+!1](w.event?w.event(t):t)}finally{Y=!1}}function Ke(t){Y=!0;try{return this.l[t.type+!0](w.event?w.event(t):t)}finally{Y=!1}}function pe(t,e){this.props=t,this.context=e}function J(t,e){if(e==null)return t.__?J(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?J(t):null}function et(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return et(t)}}function br(t){Y?setTimeout(t):De(t)}function Te(t){(!t.__d&&(t.__d=!0)&&I.push(t)&&!ge.__r++||He!==w.debounceRendering)&&((He=w.debounceRendering)||br)(ge)}function ge(){var t,e,r,i,s,n,o,l;for(I.sort(function(d,u){return d.__v.__b-u.__v.__b});t=I.shift();)t.__d&&(e=I.length,i=void 0,s=void 0,o=(n=(r=t).__v).__e,(l=r.__P)&&(i=[],(s=k({},n)).__v=n.__v+1,Ee(l,n,s,r.__n,l.ownerSVGElement!==void 0,n.__h!=null?[o]:null,i,o??J(n),n.__h),nt(i,n),n.__e!=o&&et(n)),I.length>e&&I.sort(function(d,u){return d.__v.__b-u.__v.__b}));ge.__r=0}function tt(t,e,r,i,s,n,o,l,d,u){var a,g,m,f,h,j,v,b=i&&i.__k||Ze,T=b.length;for(r.__k=[],a=0;a<e.length;a++)if((f=r.__k[a]=(f=e[a])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?D(null,f,null,null,f):Array.isArray(f)?D(me,{children:f},null,null,null):f.__b>0?D(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=r,f.__b=r.__b+1,(m=b[a])===null||m&&f.key==m.key&&f.type===m.type)b[a]=void 0;else for(g=0;g<T;g++){if((m=b[g])&&f.key==m.key&&f.type===m.type){b[g]=void 0;break}m=null}Ee(t,f,m=m||fe,s,n,o,l,d,u),h=f.__e,(g=f.ref)&&m.ref!=g&&(v||(v=[]),m.ref&&v.push(m.ref,null,f),v.push(g,f.__c||h,f)),h!=null?(j==null&&(j=h),typeof f.type=="function"&&f.__k===m.__k?f.__d=d=rt(f,d,t):d=it(t,f,m,b,h,d),typeof r.type=="function"&&(r.__d=d)):d&&m.__e==d&&d.parentNode!=t&&(d=J(m))}for(r.__e=j,a=T;a--;)b[a]!=null&&(typeof r.type=="function"&&b[a].__e!=null&&b[a].__e==r.__d&&(r.__d=st(i).nextSibling),at(b[a],b[a]));if(v)for(a=0;a<v.length;a++)ot(v[a],v[++a],v[++a])}function rt(t,e,r){for(var i,s=t.__k,n=0;s&&n<s.length;n++)(i=s[n])&&(i.__=t,e=typeof i.type=="function"?rt(i,e,r):it(r,i,i,s,i.__e,e));return e}function wr(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){wr(r,e)}):e.push(t)),e}function it(t,e,r,i,s,n){var o,l,d;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||s!=n||s.parentNode==null)e:if(n==null||n.parentNode!==t)t.appendChild(s),o=null;else{for(l=n,d=0;(l=l.nextSibling)&&d<i.length;d+=1)if(l==s)break e;t.insertBefore(s,n),o=n}return o!==void 0?o:s.nextSibling}function st(t){var e,r,i;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(i=st(r)))return i}return null}function Ee(t,e,r,i,s,n,o,l,d){var u,a,g,m,f,h,j,v,b,T,H,L,V,y,O,F=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(d=r.__h,l=e.__e=r.__e,e.__h=null,n=[l]),(u=w.__b)&&u(e);try{e:if(typeof F=="function"){if(v=e.props,b=(u=F.contextType)&&i[u.__c],T=u?b?b.props.value:u.__:i,r.__c?j=(a=e.__c=r.__c).__=a.__E:("prototype"in F&&F.prototype.render?e.__c=a=new F(v,T):(e.__c=a=new pe(v,T),a.constructor=F,a.render=xr),b&&b.sub(a),a.props=v,a.state||(a.state={}),a.context=T,a.__n=i,g=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),F.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=k({},a.__s)),k(a.__s,F.getDerivedStateFromProps(v,a.__s))),m=a.props,f=a.state,a.__v=e,g)F.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(F.getDerivedStateFromProps==null&&v!==m&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(v,T),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(v,a.__s,T)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(a.props=v,a.state=a.__s,a.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(z){z&&(z.__=e)}),H=0;H<a._sb.length;H++)a.__h.push(a._sb[H]);a._sb=[],a.__h.length&&o.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(v,a.__s,T),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(m,f,h)})}if(a.context=T,a.props=v,a.__P=t,L=w.__r,V=0,"prototype"in F&&F.prototype.render){for(a.state=a.__s,a.__d=!1,L&&L(e),u=a.render(a.props,a.state,a.context),y=0;y<a._sb.length;y++)a.__h.push(a._sb[y]);a._sb=[]}else do a.__d=!1,L&&L(e),u=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++V<25);a.state=a.__s,a.getChildContext!=null&&(i=k(k({},i),a.getChildContext())),g||a.getSnapshotBeforeUpdate==null||(h=a.getSnapshotBeforeUpdate(m,f)),O=u!=null&&u.type===me&&u.key==null?u.props.children:u,tt(t,Array.isArray(O)?O:[O],e,r,i,s,n,o,l,d),a.base=e.__e,e.__h=null,a.__h.length&&o.push(a),j&&(a.__E=a.__=null),a.__e=!1}else n==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Sr(r.__e,e,r,i,s,n,o,d);(u=w.diffed)&&u(e)}catch(z){e.__v=null,(d||n!=null)&&(e.__e=l,e.__h=!!d,n[n.indexOf(l)]=null),w.__e(z,e,r)}}function nt(t,e){w.__c&&w.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(i){i.call(r)})}catch(i){w.__e(i,r.__v)}})}function Sr(t,e,r,i,s,n,o,l){var d,u,a,g=r.props,m=e.props,f=e.type,h=0;if(f==="svg"&&(s=!0),n!=null){for(;h<n.length;h++)if((d=n[h])&&"setAttribute"in d==!!f&&(f?d.localName===f:d.nodeType===3)){t=d,n[h]=null;break}}if(t==null){if(f===null)return document.createTextNode(m);t=s?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,m.is&&m),n=null,l=!1}if(f===null)g===m||l&&t.data===m||(t.data=m);else{if(n=n&&Z.call(t.childNodes),u=(g=r.props||fe).dangerouslySetInnerHTML,a=m.dangerouslySetInnerHTML,!l){if(n!=null)for(g={},h=0;h<t.attributes.length;h++)g[t.attributes[h].name]=t.attributes[h].value;(a||u)&&(a&&(u&&a.__html==u.__html||a.__html===t.innerHTML)||(t.innerHTML=a&&a.__html||""))}if(yr(t,m,g,s,l),a)e.__k=[];else if(h=e.props.children,tt(t,Array.isArray(h)?h:[h],e,r,i,s&&f!=="foreignObject",n,o,n?n[0]:r.__k&&J(r,0),l),n!=null)for(h=n.length;h--;)n[h]!=null&&Qe(n[h]);l||("value"in m&&(h=m.value)!==void 0&&(h!==t.value||f==="progress"&&!h||f==="option"&&h!==g.value)&&he(t,"value",h,g.value,!1),"checked"in m&&(h=m.checked)!==void 0&&h!==t.checked&&he(t,"checked",h,g.checked,!1))}return t}function ot(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(i){w.__e(i,r)}}function at(t,e,r){var i,s;if(w.unmount&&w.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||ot(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){w.__e(n,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(s=0;s<i.length;s++)i[s]&&at(i[s],e,r||typeof t.type!="function");r||t.__e==null||Qe(t.__e),t.__=t.__e=t.__d=void 0}function xr(t,e,r){return this.constructor(t,r)}function Oe(t,e,r){var i,s,n;w.__&&w.__(t,e),s=(i=typeof r=="function")?null:r&&r.__k||e.__k,n=[],Ee(e,t=(!i&&r||e).__k=vr(me,null,[t]),s||fe,fe,e.ownerSVGElement!==void 0,!i&&r?[r]:s?null:e.firstChild?Z.call(e.childNodes):null,n,!i&&r?r:s?s.__e:e.firstChild,i),nt(n,t)}function Ji(t,e,r){var i,s,n,o=k({},t.props);for(n in e)n=="key"?i=e[n]:n=="ref"?s=e[n]:o[n]=e[n];return arguments.length>2&&(o.children=arguments.length>3?Z.call(arguments,2):r),D(t.type,o,i||t.key,s||t.ref,null)}function Zi(t,e){var r={__c:e="__cC"+Je++,__:t,Consumer:function(i,s){return i.children(s)},Provider:function(i){var s,n;return this.getChildContext||(s=[],(n={})[e]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(l){l.__e=!0,Te(l)})},this.sub=function(o){s.push(o);var l=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),l&&l.call(o)}}),i.children}};return r.Provider.__=r.Consumer.contextType=r}Z=Ze.slice,w={__e:function(t,e,r,i){for(var s,n,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((n=s.constructor)&&n.getDerivedStateFromError!=null&&(s.setState(n.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,i||{}),o=s.__d),o)return s.__E=s}catch(l){t=l}throw t}},Xe=0,mr=function(t){return t!=null&&t.constructor===void 0},Y=!1,pe.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof t=="function"&&(t=t(k({},r),this.props)),t&&k(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Te(this))},pe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Te(this))},pe.prototype.render=me,I=[],De=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ge.__r=0,Je=0;var Ue={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function _e(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Fr=0;function dt(t){return"__private_"+Fr+++"_"+t}function Pr(t,e,r){let i=[];return t.forEach(s=>typeof s!="string"?i.push(s):e[Symbol.split](s).forEach((n,o,l)=>{n!==""&&i.push(n),o<l.length-1&&i.push(r)})),i}function lt(t,e){let r=/\$/g,i="$$$$",s=[t];if(e==null)return s;for(let n of Object.keys(e))if(n!=="_"){let o=e[n];typeof o=="string"&&(o=r[Symbol.replace](o,i)),s=Pr(s,new RegExp(`%\\{${n}\\}`,"g"),o)}return s}var Tr=t=>{throw new Error(`missing string: ${t}`)},Q=dt("onMissingKey"),ee=dt("apply"),K=class{constructor(e,r){let{onMissingKey:i=Tr}=r===void 0?{}:r;Object.defineProperty(this,ee,{value:Er}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),this.locale={strings:{},pluralize(s){return s===1?0:1}},Array.isArray(e)?e.forEach(_e(this,ee)[ee],this):_e(this,ee)[ee](e),_e(this,Q)[Q]=i}translate(e,r){return this.translateArray(e,r).join("")}translateArray(e,r){let i=this.locale.strings[e];if(i==null&&(_e(this,Q)[Q](e),i=e),typeof i=="object"){if(r&&typeof r.smart_count<"u"){let n=this.locale.pluralize(r.smart_count);return lt(i[n],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof i!="string")throw new Error("string was not a string");return lt(i,r)}};function Er(t){if(!(t!=null&&t.strings))return;let e=this.locale;Object.assign(this.locale,{strings:c(c({},e.strings),t.strings),pluralize:t.pluralize||e.pluralize})}var cr=ce(ct(),1);var Or="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var pt=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Or[Math.random()*64|0];return e};var pr=ce(Vt(),1);function ye(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var wi=0;function Yt(t){return"__private_"+wi+++"_"+t}var Si={version:"3.2.2"},q=Yt("callbacks"),ke=Yt("publish"),be=class{constructor(){Object.defineProperty(this,ke,{value:xi}),this.state={},Object.defineProperty(this,q,{writable:!0,value:new Set})}getState(){return this.state}setState(e){let r=c({},this.state),i=c(c({},this.state),e);this.state=i,ye(this,ke)[ke](r,i,e)}subscribe(e){return ye(this,q)[q].add(e),()=>{ye(this,q)[q].delete(e)}}};function xi(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];ye(this,q)[q].forEach(i=>{i(...e)})}be.VERSION=Si.version;var Kt=be;function re(t){let e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}function ie(t){var e;if(t.type)return t.type;let r=t.name?(e=re(t.name).extension)==null?void 0:e.toLowerCase():null;return r&&r in Ue?Ue[r]:"application/octet-stream"}function Fi(t){return t.charCodeAt(0).toString(32)}function Xt(t){let e="";return t.replace(/[^A-Z0-9]/gi,r=>(e+=`-${Fi(r)}`,"/"))+e}function Dt(t){let e="uppy";return typeof t.name=="string"&&(e+=`-${Xt(t.name.toLowerCase())}`),t.type!==void 0&&(e+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(e+=`-${Xt(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(e+=`-${t.data.size}`),t.data.lastModified!==void 0&&(e+=`-${t.data.lastModified}`),e}function Pi(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function Jt(t){if(Pi(t))return t.id;let e=ie(t);return Dt(_(c({},t),{type:e}))}function Me(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;let e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;let i=e[1].split(".",2),s=parseInt(i[0],10),n=parseInt(i[1],10);return s<15||s===15&&n<15063||s>18||s===18&&n>=18218}function $e(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}function Ne(t){return t<10?`0${t}`:t.toString()}function X(){let t=new Date,e=Ne(t.getHours()),r=Ne(t.getMinutes()),i=Ne(t.getSeconds());return`${e}:${r}:${i}`}var Zt={debug:()=>{},warn:()=>{},error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.error(`[Uppy] [${X()}]`,...e)}},Qt={debug:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.debug(`[Uppy] [${X()}]`,...e)},warn:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.warn(`[Uppy] [${X()}]`,...e)},error:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return console.error(`[Uppy] [${X()}]`,...e)}};var we=ce(tr(),1),or=ce(nr(),1),ar={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},E=class extends Error{constructor(e,r){var i;super(e),this.isRestriction=!0,this.isUserFacing=(i=r?.isUserFacing)!=null?i:!0,r!=null&&r.file&&(this.file=r.file)}},Se=class{constructor(e,r){this.i18n=r,this.getOpts=()=>{var i;let s=e();if(((i=s.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(s.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return s}}validateAggregateRestrictions(e,r){let{maxTotalFileSize:i,maxNumberOfFiles:s}=this.getOpts().restrictions;if(s&&e.filter(o=>!o.isGhost).length+r.length>s)throw new E(`${this.i18n("youCanOnlyUploadX",{smart_count:s})}`);if(i){let n=e.reduce((o,l)=>{var d;return o+((d=l.size)!=null?d:0)},0);for(let o of r)if(o.size!=null&&(n+=o.size,n>i))throw new E(this.i18n("exceedsSize",{size:(0,we.default)(i),file:o.name}))}}validateSingleFile(e){let{maxFileSize:r,minFileSize:i,allowedFileTypes:s}=this.getOpts().restrictions;if(s&&!s.some(o=>o.includes("/")?e.type?(0,or.default)(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){let o=s.join(", ");throw new E(this.i18n("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(r&&e.size!=null&&e.size>r)throw new E(this.i18n("exceedsSize",{size:(0,we.default)(r),file:e.name}),{file:e});if(i&&e.size!=null&&e.size<i)throw new E(this.i18n("inferiorSize",{size:(0,we.default)(i)}),{file:e})}validate(e,r){r.forEach(i=>{this.validateSingleFile(i)}),this.validateAggregateRestrictions(e,r)}validateMinNumberOfFiles(e){let{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(e).length<r)throw new E(this.i18n("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(e){let r=new E(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),{requiredMetaFields:i}=this.getOpts().restrictions,s=[];for(let n of i)(!Object.hasOwn(e.meta,n)||e.meta[n]==="")&&s.push(n);return{missingFields:s,error:r}}};var lr={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled"}};var dr,ur;function p(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Ui=0;function S(t){return"__private_"+Ui+++"_"+t}var Ai={version:"3.9.3"},xe={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null},P=S("plugins"),U=S("restricter"),se=S("storeUnsubscribe"),M=S("emitter"),B=S("preProcessors"),W=S("uploaders"),R=S("postProcessors"),A=S("informAndEmit"),de=S("checkRequiredMetaFieldsOnFile"),Le=S("checkRequiredMetaFields"),ne=S("assertNewUploadAllowed"),qe=S("transformFile"),oe=S("startIfAutoProceed"),ae=S("checkAndUpdateFileState"),ze=S("addListeners"),C=S("updateOnlineStatus"),le=S("requestClientById"),$=S("createUpload"),Ie=S("getUpload"),G=S("removeUpload"),N=S("runUpload");dr=Symbol.for("uppy test: getPlugins");ur=Symbol.for("uppy test: createUpload");var Fe=class t{constructor(e){Object.defineProperty(this,N,{value:Bi}),Object.defineProperty(this,G,{value:qi}),Object.defineProperty(this,Ie,{value:Ii}),Object.defineProperty(this,$,{value:zi}),Object.defineProperty(this,ze,{value:Li}),Object.defineProperty(this,ae,{value:Ri}),Object.defineProperty(this,oe,{value:Ni}),Object.defineProperty(this,qe,{value:$i}),Object.defineProperty(this,ne,{value:Mi}),Object.defineProperty(this,Le,{value:ki}),Object.defineProperty(this,de,{value:Ci}),Object.defineProperty(this,A,{value:ji}),Object.defineProperty(this,P,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,U,{writable:!0,value:void 0}),Object.defineProperty(this,se,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:(0,cr.default)()}),Object.defineProperty(this,B,{writable:!0,value:new Set}),Object.defineProperty(this,W,{writable:!0,value:new Set}),Object.defineProperty(this,R,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=(0,pr.default)((s,n)=>{let o=this.getFile(s?.id);if(s==null||!o){this.log(`Not setting progress for a file that has been removed: ${s?.id}`);return}if(o.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${s.id}`);return}let l=Number.isFinite(n.bytesTotal)&&n.bytesTotal>0;this.setFileState(s.id,{progress:_(c({},o.progress),{bytesUploaded:n.bytesUploaded,bytesTotal:n.bytesTotal,percentage:l?Math.round(n.bytesUploaded/n.bytesTotal*100):0})}),this.calculateTotalProgress()},500,{leading:!0,trailing:!0}),Object.defineProperty(this,C,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,le,{writable:!0,value:new Map}),this.defaultLocale=lr;let r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:ar,meta:{},onBeforeFileAdded:(s,n)=>!Object.hasOwn(n,s.id),onBeforeUpload:s=>s,store:new Kt,logger:Zt,infoTimeout:5e3},i=c(c({},r),e);this.opts=_(c({},i),{restrictions:c(c({},r.restrictions),e&&e.restrictions)}),e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=Qt),this.log(`Using Core v${t.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState(_(c({},xe),{plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Me(),individualCancellation:!0,resumableUploads:!1},meta:c({},this.opts.meta),info:[]})),p(this,U)[U]=new Se(()=>this.opts,this.i18n),p(this,se)[se]=this.store.subscribe((s,n,o)=>{this.emit("state-update",s,n,o),this.updateAll(n)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),p(this,ze)[ze]()}emit(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];p(this,M)[M].emit(e,...i)}on(e,r){return p(this,M)[M].on(e,r),this}once(e,r){return p(this,M)[M].once(e,r),this}off(e,r){return p(this,M)[M].off(e,r),this}updateAll(e){this.iteratePlugins(r=>{r.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){let r=this.getState().files;this.setState({files:c(c({},r),Object.fromEntries(Object.entries(e).map(i=>{let[s,n]=i;return[s,c(c({},r[s]),n)]})))})}setFileState(e,r){if(!this.getState().files[e])throw new Error(`Can\u2019t set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:r})}i18nInit(){let e=i=>this.log(`Missing i18n string: ${i}`,"error"),r=new K([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(e){this.opts=_(c(c({},this.opts),e),{restrictions:c(c({},this.opts.restrictions),e?.restrictions)}),e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(r=>{r.setOptions(e)}),this.setState(void 0)}resetProgress(){let e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},r=c({},this.getState().files),i={};Object.keys(r).forEach(s=>{i[s]=_(c({},r[s]),{progress:c(c({},r[s].progress),e)})}),this.setState(c({files:i},xe)),this.emit("reset-progress")}clearUploadedFiles(){this.setState(_(c({},xe),{files:{}}))}addPreProcessor(e){p(this,B)[B].add(e)}removePreProcessor(e){return p(this,B)[B].delete(e)}addPostProcessor(e){p(this,R)[R].add(e)}removePostProcessor(e){return p(this,R)[R].delete(e)}addUploader(e){p(this,W)[W].add(e)}removeUploader(e){return p(this,W)[W].delete(e)}setMeta(e){let r=c(c({},this.getState().meta),e),i=c({},this.getState().files);Object.keys(i).forEach(s=>{i[s]=_(c({},i[s]),{meta:c(c({},i[s].meta),e)})}),this.log("Adding metadata:"),this.log(e),this.setState({meta:r,files:i})}setFileMeta(e,r){let i=c({},this.getState().files);if(!i[e]){this.log("Was trying to set metadata for a file that has been removed: ",e);return}let s=c(c({},i[e].meta),r);i[e]=_(c({},i[e]),{meta:s}),this.setState({files:i})}getFile(e){return this.getState().files[e]}getFiles(){let{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(r=>this.getFile(r))}getObjectOfFilesPerState(){let{files:e,totalProgress:r,error:i}=this.getState(),s=Object.values(e),n=s.filter(h=>{let{progress:j}=h;return!j.uploadComplete&&j.uploadStarted}),o=s.filter(h=>!h.progress.uploadStarted),l=s.filter(h=>h.progress.uploadStarted||h.progress.preprocess||h.progress.postprocess),d=s.filter(h=>h.progress.uploadStarted),u=s.filter(h=>h.isPaused),a=s.filter(h=>h.progress.uploadComplete),g=s.filter(h=>h.error),m=n.filter(h=>!h.isPaused),f=s.filter(h=>h.progress.preprocess||h.progress.postprocess);return{newFiles:o,startedFiles:l,uploadStartedFiles:d,pausedFiles:u,completeFiles:a,erroredFiles:g,inProgressFiles:n,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:d.length>0,isAllComplete:r===100&&a.length===s.length&&f.length===0,isAllErrored:!!i&&g.length===s.length,isAllPaused:n.length!==0&&u.length===n.length,isUploadInProgress:n.length>0,isSomeGhost:s.some(h=>h.isGhost)}}validateRestrictions(e,r){r===void 0&&(r=this.getFiles());try{p(this,U)[U].validate(r,[e])}catch(i){return i}return null}checkIfFileAlreadyExists(e){let{files:r}=this.getState();return!!(r[e]&&!r[e].isGhost)}addFile(e){p(this,ne)[ne](e);let{nextFilesState:r,validFilesToAdd:i,errors:s}=p(this,ae)[ae]([e]),n=s.filter(l=>l.isRestriction);if(p(this,A)[A](n),s.length>0)throw s[0];this.setState({files:r});let[o]=i;return this.emit("file-added",o),this.emit("files-added",i),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),p(this,oe)[oe](),o.id}addFiles(e){p(this,ne)[ne]();let{nextFilesState:r,validFilesToAdd:i,errors:s}=p(this,ae)[ae](e),n=s.filter(l=>l.isRestriction);p(this,A)[A](n);let o=s.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(d=>{l+=`
 * ${d.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{let d=new Error(l);throw d.errors=o,d}}this.setState({files:r}),i.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",i),i.length>5?this.log(`Added batch of ${i.length} files`):Object.values(i).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),i.length>0&&p(this,oe)[oe]()}removeFiles(e,r){let{files:i,currentUploads:s}=this.getState(),n=c({},i),o=c({},s),l=Object.create(null);e.forEach(g=>{i[g]&&(l[g]=i[g],delete n[g])});function d(g){return l[g]===void 0}Object.keys(o).forEach(g=>{let m=s[g].fileIDs.filter(d);if(m.length===0){delete o[g];return}let{capabilities:f}=this.getState();if(m.length!==s[g].fileIDs.length&&!f.individualCancellation)throw new Error("individualCancellation is disabled");o[g]=_(c({},s[g]),{fileIDs:m})});let u={currentUploads:o,files:n};Object.keys(n).length===0&&(u.allowNewUpload=!0,u.error=null,u.recoveredState=null),this.setState(u),this.calculateTotalProgress();let a=Object.keys(l);a.forEach(g=>{this.emit("file-removed",l[g],r)}),a.length>5?this.log(`Removed ${a.length} files`):this.log(`Removed files: ${a.join(", ")}`)}removeFile(e,r){this.removeFiles([e],r)}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;let i=!(this.getFile(e).isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",e,i),i}pauseAll(){let e=c({},this.getState().files);Object.keys(e).filter(i=>!e[i].progress.uploadComplete&&e[i].progress.uploadStarted).forEach(i=>{let s=_(c({},e[i]),{isPaused:!0});e[i]=s}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){let e=c({},this.getState().files);Object.keys(e).filter(i=>!e[i].progress.uploadComplete&&e[i].progress.uploadStarted).forEach(i=>{let s=_(c({},e[i]),{isPaused:!1,error:null});e[i]=s}),this.setState({files:e}),this.emit("resume-all")}retryAll(){let e=c({},this.getState().files),r=Object.keys(e).filter(s=>e[s].error);if(r.forEach(s=>{let n=_(c({},e[s]),{isPaused:!1,error:null});e[s]=n}),this.setState({files:e,error:null}),this.emit("retry-all",r),r.length===0)return Promise.resolve({successful:[],failed:[]});let i=p(this,$)[$](r,{forceAllowNewUpload:!0});return p(this,N)[N](i)}cancelAll(e){let{reason:r="user"}=e===void 0?{}:e;if(this.emit("cancel-all",{reason:r}),r==="user"){let{files:i}=this.getState(),s=Object.keys(i);s.length&&this.removeFiles(s,"cancel-all"),this.setState(xe)}}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);let r=p(this,$)[$]([e],{forceAllowNewUpload:!0});return p(this,N)[N](r)}logout(){this.iteratePlugins(e=>{var r;(r=e.provider)==null||r.logout==null||r.logout()})}calculateTotalProgress(){let r=this.getFiles().filter(u=>u.progress.uploadStarted||u.progress.preprocess||u.progress.postprocess);if(r.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}let i=r.filter(u=>u.progress.bytesTotal!=null),s=r.filter(u=>u.progress.bytesTotal==null);if(i.length===0){let u=r.length*100,a=s.reduce((m,f)=>m+f.progress.percentage,0),g=Math.round(a/u*100);this.setState({totalProgress:g});return}let n=i.reduce((u,a)=>{var g;return u+((g=a.progress.bytesTotal)!=null?g:0)},0),o=n/i.length;n+=o*s.length;let l=0;i.forEach(u=>{l+=u.progress.bytesUploaded}),s.forEach(u=>{l+=o*(u.progress.percentage||0)/100});let d=n===0?0:Math.round(l/n*100);d>100&&(d=100),this.setState({totalProgress:d}),this.emit("progress",d)}updateOnlineStatus(){var e;((e=window.navigator.onLine)!=null?e:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,r){if(typeof e!="function"){let o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}let i=new e(this,r),s=i.id;if(!s)throw new Error("Your plugin must have an id");if(!i.type)throw new Error("Your plugin must have a type");let n=this.getPlugin(s);if(n){let o=`Already found a plugin named '${n.id}'. Tried to use: '${s}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${s} v${e.VERSION}`),i.type in p(this,P)[P]?p(this,P)[P][i.type].push(i):p(this,P)[P][i.type]=[i],i.install(),this.emit("plugin-added",i),this}getPlugin(e){for(let r of Object.values(p(this,P)[P])){let i=r.find(s=>s.id===e);if(i!=null)return i}}[dr](e){return p(this,P)[P][e]}iteratePlugins(e){Object.values(p(this,P)[P]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();let r=p(this,P)[P][e.type],i=r.findIndex(o=>o.id===e.id);i!==-1&&r.splice(i,1);let s=this.getState(),n={plugins:_(c({},s.plugins),{[e.id]:void 0})};this.setState(n)}close(e){let{reason:r}=e===void 0?{}:e;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:r}),p(this,se)[se](),this.iteratePlugins(i=>{this.removePlugin(i)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",p(this,C)[C]),window.removeEventListener("offline",p(this,C)[C]))}hideInfo(){let{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,r,i){r===void 0&&(r="info"),i===void 0&&(i=3e3);let s=typeof e=="object";this.setState({info:[...this.getState().info,{type:r,message:s?e.message:e,details:s?e.details:null}]}),setTimeout(()=>this.hideInfo(),i),this.emit("info-visible")}log(e,r){let{logger:i}=this.opts;switch(r){case"error":i.error(e);break;case"warning":i.warn(e);break;default:i.debug(e);break}}registerRequestClient(e,r){p(this,le)[le].set(e,r)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);let r=p(this,le)[le].get(e.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return r}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?p(this,N)[N](e):(p(this,G)[G](e),Promise.reject(new Error("Nonexistent upload")))}[ur](){return p(this,$)[$](...arguments)}addResultData(e,r){if(!p(this,Ie)[Ie](e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}let{currentUploads:i}=this.getState(),s=_(c({},i[e]),{result:c(c({},i[e].result),r)});this.setState({currentUploads:_(c({},i),{[e]:s})})}upload(){var e;(e=p(this,P)[P].uploader)!=null&&e.length||this.log("No uploader type plugins are used","warning");let{files:r}=this.getState(),i=this.opts.onBeforeUpload(r);return i===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(i&&typeof i=="object"&&(r=i,this.setState({files:r})),Promise.resolve().then(()=>p(this,U)[U].validateMinNumberOfFiles(r)).catch(s=>{throw p(this,A)[A]([s]),s}).then(()=>{if(!p(this,Le)[Le](r))throw new E(this.i18n("missingRequiredMetaField"))}).catch(s=>{throw s}).then(()=>{let{currentUploads:s}=this.getState(),n=Object.values(s).flatMap(d=>d.fileIDs),o=[];Object.keys(r).forEach(d=>{let u=this.getFile(d);!u.progress.uploadStarted&&n.indexOf(d)===-1&&o.push(u.id)});let l=p(this,$)[$](o);return p(this,N)[N](l)}).catch(s=>{throw this.emit("error",s),this.log(s,"error"),s}))}};function ji(t){for(let n of t)n.isRestriction?this.emit("restriction-failed",n.file,n):this.emit("error",n,n.file),this.log(n,"warning");let e=t.filter(n=>n.isUserFacing),r=4,i=e.slice(0,r),s=e.slice(r);i.forEach(n=>{let{message:o,details:l=""}=n;this.info({message:o,details:l},"error",this.opts.infoTimeout)}),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})}function Ci(t){let{missingFields:e,error:r}=p(this,U)[U].getMissingRequiredMetaFields(t);return e.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:e}),this.log(r.message),this.emit("restriction-failed",t,r),!1):!0}function ki(t){let e=!0;for(let r of Object.values(t))p(this,de)[de](r)||(e=!1);return e}function Mi(t){let{allowNewUpload:e}=this.getState();if(e===!1){let r=new E(this.i18n("noMoreFilesAllowed"),{file:t});throw p(this,A)[A]([r]),r}}function $i(t){let e=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,r=ie(e),i=$e(r,e),s=re(i).extension,n=Jt(e),o=e.meta||{};o.name=i,o.type=r;let l=Number.isFinite(e.data.size)?e.data.size:null;return{source:e.source||"",id:n,name:i,extension:s||"",meta:c(c({},this.getState().meta),o),type:r,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isGhost:!1,isRemote:e.isRemote||!1,remote:e.remote||"",preview:e.preview}}function Ni(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))}function Ri(t){let{files:e}=this.getState(),r=c({},e),i=[],s=[];for(let o of t)try{var n;let l=p(this,qe)[qe](o),d=(n=e[l.id])==null?void 0:n.isGhost;if(d){let a=e[l.id];l=_(c({},a),{isGhost:!1,data:o.data}),this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`)}let u=this.opts.onBeforeFileAdded(l,r);if(!u&&this.checkIfFileAlreadyExists(l.id))throw new E(this.i18n("noDuplicates",{fileName:l.name}),{file:o});if(u===!1&&!d)throw new E("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:o});typeof u=="object"&&u!==null&&(l=u),p(this,U)[U].validateSingleFile(l),r[l.id]=l,i.push(l)}catch(l){s.push(l)}try{p(this,U)[U].validateAggregateRestrictions(Object.values(e),i)}catch(o){return s.push(o),{nextFilesState:e,validFilesToAdd:[],errors:s}}return{nextFilesState:r,validFilesToAdd:i,errors:s}}function Li(){let t=(i,s,n)=>{let o=i.message||"Unknown error";i.details&&(o+=` ${i.details}`),this.setState({error:o}),s!=null&&s.id in this.getState().files&&this.setFileState(s.id,{error:o,response:n})};this.on("error",t),this.on("upload-error",(i,s,n)=>{if(t(s,i,n),typeof s=="object"&&s.message){var o;this.log(s.message,"error");let l=new Error(this.i18n("failedToUpload",{file:(o=i?.name)!=null?o:""}));l.isUserFacing=!0,l.details=s.message,s.details&&(l.details+=` ${s.details}`),p(this,A)[A]([l])}else p(this,A)[A]([s])});let e=null;this.on("upload-stalled",(i,s)=>{let{message:n}=i,o=s.map(l=>l.meta.name).join(", ");e||(this.info({message:n,details:o},"warning",this.opts.infoTimeout),e=setTimeout(()=>{e=null},this.opts.infoTimeout)),this.log(`${n} ${o}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});let r=i=>{let s=i.filter(o=>{let l=o!=null&&this.getFile(o.id);return l||this.log(`Not setting progress for a file that has been removed: ${o?.id}`),l}),n=Object.fromEntries(s.map(o=>[o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:o.size}}]));this.patchFilesState(n)};this.on("upload-start",i=>{i.forEach(s=>{this.emit("upload-started",s)}),r(i)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}let n=this.getFile(i.id).progress;this.setFileState(i.id,{progress:_(c({},n),{postprocess:p(this,R)[R].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:n.bytesTotal}),response:s,uploadURL:s.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:s.bytesUploaded||n.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}this.setFileState(i.id,{progress:_(c({},this.getFile(i.id).progress),{preprocess:s})})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}let s=c({},this.getState().files);s[i.id]=_(c({},s[i.id]),{progress:c({},s[i.id].progress)}),delete s[i.id].progress.preprocess,this.setState({files:s})}),this.on("postprocess-progress",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}this.setFileState(i.id,{progress:_(c({},this.getState().files[i.id].progress),{postprocess:s})})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i?.id}`);return}let s=c({},this.getState().files);s[i.id]=_(c({},s[i.id]),{progress:c({},s[i.id].progress)}),delete s[i.id].progress.postprocess,this.setState({files:s})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",i=>{i&&p(this,de)[de](i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",p(this,C)[C]),window.addEventListener("offline",p(this,C)[C]),setTimeout(p(this,C)[C],3e3))}function zi(t,e){e===void 0&&(e={});let{forceAllowNewUpload:r=!1}=e,{allowNewUpload:i,currentUploads:s}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");let n=pt();return this.emit("upload",{id:n,fileIDs:t}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:_(c({},s),{[n]:{fileIDs:t,step:0,result:{}}})}),n}function Ii(t){let{currentUploads:e}=this.getState();return e[t]}function qi(t){let e=c({},this.getState().currentUploads);delete e[t],this.setState({currentUploads:e})}function Bi(t){return Ge(this,null,function*(){let e=()=>{let{currentUploads:n}=this.getState();return n[t]},r=e(),i=[...p(this,B)[B],...p(this,W)[W],...p(this,R)[R]];try{for(let n=r.step||0;n<i.length&&r;n++){let o=i[n];this.setState({currentUploads:_(c({},this.getState().currentUploads),{[t]:_(c({},r),{step:n})})});let{fileIDs:l}=r;yield o(l,t),r=e()}}catch(n){throw p(this,G)[G](t),n}if(r){r.fileIDs.forEach(d=>{let u=this.getFile(d);u&&u.progress.postprocess&&this.emit("postprocess-complete",u)});let n=r.fileIDs.map(d=>this.getFile(d)),o=n.filter(d=>!d.error),l=n.filter(d=>d.error);this.addResultData(t,{successful:o,failed:l,uploadID:t}),r=e()}let s;return r&&(s=r.result,this.emit("complete",s),p(this,G)[G](t)),s==null&&this.log(`Not setting result for an upload that has been removed: ${t}`),s})}Fe.VERSION=Ai.version;var Wi=Fe;function Be(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function Gi(t,e){return e===void 0&&(e=document),typeof t=="string"?e.querySelector(t):Be(t)?t:null}var fr=Gi;function Hi(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}var hr=Hi;var Pe=class{constructor(e,r){this.uppy=e,this.opts=r??{}}getPluginState(){let{plugins:e}=this.uppy.getState();return e?.[this.id]||{}}setPluginState(e){if(!e)return;let{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:_(c({},r),{[this.id]:c(c({},r[this.id]),e)})})}setOptions(e){this.opts=c(c({},this.opts),e),this.setPluginState(void 0),this.i18nInit()}i18nInit(){let e=new K([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}};function gr(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Vi=0;function Yi(t){return"__private_"+Vi+++"_"+t}function Ki(t){let e=null,r;return function(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return r=s,e||(e=Promise.resolve().then(()=>(e=null,t(...r)))),e}}var ue=Yi("updateUI"),We=class t extends Pe{constructor(){super(...arguments),Object.defineProperty(this,ue,{writable:!0,value:void 0})}getTargetPlugin(e){let r;if(typeof e?.addTarget=="function")r=e,r instanceof t||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:t}}));else if(typeof e=="function"){let i=e;this.uppy.iteratePlugins(s=>{s instanceof i&&(r=s)})}return r}mount(e,r){let i=r.id,s=fr(e);if(s){this.isTargetDOMEl=!0;let l=document.createElement("div");return l.classList.add("uppy-Root"),gr(this,ue)[ue]=Ki(d=>{this.uppy.getPlugin(this.id)&&(Oe(this.render(d),l),this.afterUpdate())}),this.uppy.log(`Installing ${i} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(s.innerHTML=""),Oe(this.render(this.uppy.getState()),l),this.el=l,s.appendChild(l),l.dir=this.opts.direction||hr(l)||"ltr",this.onMount(),this.el}let n=this.getTargetPlugin(e);if(n)return this.uppy.log(`Installing ${i} to ${n.id}`),this.parent=n,this.el=n.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let o=`Invalid target option given to ${i}.`;throw typeof e=="function"?o+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":o+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(o)}render(e){throw new Error("Extend the render method to add your plugin to a DOM element")}update(e){if(this.el!=null){var r,i;(r=(i=gr(this,ue))[ue])==null||r.call(i,e)}}unmount(){if(this.isTargetDOMEl){var e;(e=this.el)==null||e.remove()}this.onUnmount()}onMount(){}onUnmount(){}},Xi=We;export{w as a,mr as b,vr as c,Di as d,me as e,pe as f,wr as g,Oe as h,Ji as i,Zi as j,pt as k,Gt as l,re as m,Ue as n,ie as o,Jt as p,tr as q,Wi as r,Be as s,hr as t,Pe as u,Xi as v};
